  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20221119075943)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221119075943"]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRooms (20221119155548)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "is_private" boolean DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221119155548"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateMessages (20221120054527)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "body" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_273a25a7a6"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_messages_on_user_id" ON "messages" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_messages_on_room_id" ON "messages" ("room_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221120054527"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateParticipants (20221120102127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "participants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_b9a3c50f15"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_08123987c8"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_participants_on_user_id" ON "participants" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_participants_on_room_id" ON "participants" ("room_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221120102127"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20221121035505)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221121035505"]]
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddStatusToUsers (20221124160740)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD "status" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221124160740"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-11-25 09:09:17.436832"], ["updated_at", "2022-11-25 09:09:17.436832"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-11-25 16:09:42 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1378)
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 180)
  Rendered layout layouts/application.html.erb (Duration: 230.4ms | Allocations: 113529)
Completed 200 OK in 250ms (Views: 236.8ms | ActiveRecord: 0.0ms | Allocations: 120755)


Started GET "/cable" for ::1 at 2022-11-25 16:09:43 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:09:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:09:43 +0700
Started GET "/users/sign_in" for ::1 at 2022-11-25 16:09:44 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 900)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 26.1ms | Allocations: 10264)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 28.1ms | Allocations: 12779)
Completed 200 OK in 42ms (Views: 29.4ms | ActiveRecord: 0.4ms | Allocations: 32292)


Started GET "/users/sign_up" for ::1 at 2022-11-25 16:09:45 +0700
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.3ms | Allocations: 232)
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 257)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3064)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 5576)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.0ms | Allocations: 7378)


Started POST "/users" for ::1 at 2022-11-25 16:09:53 +0700
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"nqda98@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nqda98@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "status") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "nqda98@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-11-25 09:09:53.586295"], ["updated_at", "2022-11-25 09:09:53.586295"], ["status", 0]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
DEPRECATION WARNING: image/jpg is not a valid content type, it should not be used when creating a blob, and support for it will be removed in Rails 7.1. If you want to keep supporting this content type past Rails 7.1, add it to `config.active_storage.variable_content_types`. Dismiss this warning by setting `config.active_storage.silence_invalid_content_types_warning = true`. (called from add_default_avatar at /home/nguyen.quang.duy.anh/turbo-chat/app/models/user.rb:46)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8uqlyyk9q1ekqczheg49mvnxa9s5"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 83881], ["checksum", "CQXjdIoen70agncs/RrfnQ=="], ["created_at", "2022-11-25 09:09:53.709980"]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 1], ["blob_id", 1], ["created_at", "2022-11-25 09:09:53.711993"]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:09:53.713233"], ["id", 1]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mTRANSACTION (4.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:46:in `add_default_avatar'
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: 8uqlyyk9q1ekqczheg49mvnxa9s5 (checksum: CQXjdIoen70agncs/RrfnQ==)[0m
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 278)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d877e449-dc87-4b09-bba5-436dc5b2dafc) to Async(default) with arguments: #<GlobalID:0x00007f61009a59a8 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/
Completed 302 Found in 357ms (ActiveRecord: 12.0ms | Allocations: 87443)


[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc] Performing ActiveStorage::AnalyzeJob (Job ID: d877e449-dc87-4b09-bba5-436dc5b2dafc) from Async(default) enqueued at 2022-11-25T09:09:53Z with arguments: #<GlobalID:0x000055ed324889b8 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/1>>
Started GET "/" for ::1 at 2022-11-25 16:09:53 +0700
Processing by PagesController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/pages/home.html.erb:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 8uqlyyk9q1ekqczheg49mvnxa9s5[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 8uqlyyk9q1ekqczheg49mvnxa9s5[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc]   [1m[36mActiveStorage::Blob Update (1.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":600,\"height\":400,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc]   [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d877e449-dc87-4b09-bba5-436dc5b2dafc] Performed ActiveStorage::AnalyzeJob (Job ID: d877e449-dc87-4b09-bba5-436dc5b2dafc) from Async(default) in 439.14ms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "biqbs24exxaftq7przu7y33v3xl6"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 5228], ["checksum", "tk2GENx8QrDn6+WZvpVU4w=="], ["created_at", "2022-11-25 09:09:54.198330"]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 1], ["blob_id", 2], ["created_at", "2022-11-25 09:09:54.199753"]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
[36m  Disk Storage (2.1ms) [0m[32mUploaded file to key: biqbs24exxaftq7przu7y33v3xl6 (checksum: tk2GENx8QrDn6+WZvpVU4w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4890f44b-302a-4999-bd53-8d96e783b7bd) to Async(default) with arguments: #<GlobalID:0x00007f60e8069370 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/2>>
  Rendered pages/home.html.erb within layouts/application (Duration: 437.1ms | Allocations: 75572)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered layout layouts/application.html.erb (Duration: 439.7ms | Allocations: 78167)
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 442ms (Views: 433.2ms | ActiveRecord: 6.8ms | Allocations: 79869)


[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd] Performing ActiveStorage::AnalyzeJob (Job ID: 4890f44b-302a-4999-bd53-8d96e783b7bd) from Async(default) enqueued at 2022-11-25T09:09:54Z with arguments: #<GlobalID:0x000055ed325a58f0 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: biqbs24exxaftq7przu7y33v3xl6[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":150,\"height\":100,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd]   [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4890f44b-302a-4999-bd53-8d96e783b7bd] Performed ActiveStorage::AnalyzeJob (Job ID: 4890f44b-302a-4999-bd53-8d96e783b7bd) from Async(default) in 27.03ms
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFHV2FRR1ciLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7ccc1cdda2d0462f6266fd5bf734c66be2fb38ec/default_profile.jpg" for ::1 at 2022-11-25 16:09:54 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: biqbs24exxaftq7przu7y33v3xl6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NC4yNjRaIiwicHVyIjoiYmxvYl9rZXkifX0=--321982b87d8507ffa4556c2ed635e2095e16e26c/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NC4yNjRaIiwicHVyIjoiYmxvYl9rZXkifX0=--321982b87d8507ffa4556c2ed635e2095e16e26c/default_profile.jpg
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 6301)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NC4yNjRaIiwicHVyIjoiYmxvYl9rZXkifX0=--321982b87d8507ffa4556c2ed635e2095e16e26c/default_profile.jpg" for ::1 at 2022-11-25 16:09:54 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 336)


Started GET "/rooms" for ::1 at 2022-11-25 16:09:55 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:09:55.319642"], ["status", 2], ["id", 1]]
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 92)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 8uqlyyk9q1ekqczheg49mvnxa9s5[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ttt5e2n7lsfpnybz5n2ynyuz6abk"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 1556], ["checksum", "4mt/XTfvsOHLGoGNzGQ1BQ=="], ["created_at", "2022-11-25 09:09:55.376406"]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 2], ["blob_id", 3], ["created_at", "2022-11-25 09:09:55.377782"]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:21:in `chat_avatar'
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: ttt5e2n7lsfpnybz5n2ynyuz6abk (checksum: 4mt/XTfvsOHLGoGNzGQ1BQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6e11b2ca-484c-4669-9eb6-038376bce3bb) to Async(default) with arguments: #<GlobalID:0x00007f60e84bfc80 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/3>>
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 31)
  Rendered layouts/_new_room_form.html.erb (Duration: 2.0ms | Allocations: 896)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/index.html.erb within layouts/application (Duration: 51.2ms | Allocations: 16291)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | Allocations: 18886)
Completed 200 OK in 76ms (Views: 49.7ms | ActiveRecord: 12.3ms | Allocations: 40929)


[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb] Performing ActiveStorage::AnalyzeJob (Job ID: 6e11b2ca-484c-4669-9eb6-038376bce3bb) from Async(default) enqueued at 2022-11-25T09:09:55Z with arguments: #<GlobalID:0x00007f6100d0ccb8 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb] [36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: ttt5e2n7lsfpnybz5n2ynyuz6abk[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":50,\"height\":34,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb]   [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e11b2ca-484c-4669-9eb6-038376bce3bb] Performed ActiveStorage::AnalyzeJob (Job ID: 6e11b2ca-484c-4669-9eb6-038376bce3bb) from Async(default) in 17.99ms
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:09:55 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: ttt5e2n7lsfpnybz5n2ynyuz6abk (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NS40MjVaIiwicHVyIjoiYmxvYl9rZXkifX0=--e779aff21a04701382561e9ff82c155147b8b0fb/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NS40MjVaIiwicHVyIjoiYmxvYl9rZXkifX0=--e779aff21a04701382561e9ff82c155147b8b0fb/default_profile.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 4859)


Started GET "/cable" for ::1 at 2022-11-25 16:09:55 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NS40MjVaIiwicHVyIjoiYmxvYl9rZXkifX0=--e779aff21a04701382561e9ff82c155147b8b0fb/default_profile.jpg" for ::1 at 2022-11-25 16:09:55 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:09:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 380)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Started GET "/" for ::1 at 2022-11-25 16:10:04 +0700
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 0.4ms | Allocations: 256)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 2577)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 2945)


Started GET "/cable" for ::1 at 2022-11-25 16:10:04 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:04 +0700
Started GET "/users/sign_up" for ::1 at 2022-11-25 16:10:05 +0700
Processing by Users::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 82)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1491)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 8)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 3802)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 4491)


Started POST "/users" for ::1 at 2022-11-25 16:10:14 +0700
Processing by Users::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admintest@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "admintest@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "status") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "admintest@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2022-11-25 09:10:14.900949"], ["updated_at", "2022-11-25 09:10:14.900949"], ["status", 0]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
DEPRECATION WARNING: image/jpg is not a valid content type, it should not be used when creating a blob, and support for it will be removed in Rails 7.1. If you want to keep supporting this content type past Rails 7.1, add it to `config.active_storage.variable_content_types`. Dismiss this warning by setting `config.active_storage.silence_invalid_content_types_warning = true`. (called from add_default_avatar at /home/nguyen.quang.duy.anh/turbo-chat/app/models/user.rb:46)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7znrahj2zm2c0ewjx0e8j2hisdt7"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 83881], ["checksum", "CQXjdIoen70agncs/RrfnQ=="], ["created_at", "2022-11-25 09:10:14.914116"]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "avatar"], ["record_type", "User"], ["record_id", 2], ["blob_id", 4], ["created_at", "2022-11-25 09:10:14.916238"]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:10:14.917321"], ["id", 2]]
  ↳ app/models/user.rb:46:in `add_default_avatar'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:46:in `add_default_avatar'
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: 7znrahj2zm2c0ewjx0e8j2hisdt7 (checksum: CQXjdIoen70agncs/RrfnQ==)[0m
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 63)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 31f355e2-de72-461a-9364-95d3d2847427) to Async(default) with arguments: #<GlobalID:0x00007f60e89b5f28 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/
Completed 302 Found in 223ms (ActiveRecord: 12.5ms | Allocations: 13832)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427] Performing ActiveStorage::AnalyzeJob (Job ID: 31f355e2-de72-461a-9364-95d3d2847427) from Async(default) enqueued at 2022-11-25T09:10:14Z with arguments: #<GlobalID:0x00007f60a45f1a70 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/4>>
Started GET "/" for ::1 at 2022-11-25 16:10:14 +0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 7znrahj2zm2c0ewjx0e8j2hisdt7[0m
Processing by PagesController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/pages/home.html.erb:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427]   [1m[36mActiveStorage::Blob Update (1.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":600,\"height\":400,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427]   [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [31f355e2-de72-461a-9364-95d3d2847427] Performed ActiveStorage::AnalyzeJob (Job ID: 31f355e2-de72-461a-9364-95d3d2847427) from Async(default) in 31.44ms
[36m  Disk Storage (8.3ms) [0m[34mDownloaded file from key: 7znrahj2zm2c0ewjx0e8j2hisdt7[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 4], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vh2ltxtcyr0wypmy2mkdirbhby5y"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 5228], ["checksum", "tk2GENx8QrDn6+WZvpVU4w=="], ["created_at", "2022-11-25 09:10:15.036884"]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 3], ["blob_id", 5], ["created_at", "2022-11-25 09:10:15.038972"]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: vh2ltxtcyr0wypmy2mkdirbhby5y (checksum: tk2GENx8QrDn6+WZvpVU4w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bb66478e-c9ec-4a04-889b-d2c1aaa8b58c) to Async(default) with arguments: #<GlobalID:0x00007f60a45232d8 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/5>>
  Rendered pages/home.html.erb within layouts/application (Duration: 94.9ms | Allocations: 17335)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered layout layouts/application.html.erb (Duration: 97.5ms | Allocations: 19773)
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 64)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Completed 200 OK in 100ms (Views: 91.5ms | ActiveRecord: 6.4ms | Allocations: 20849)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c] Performing ActiveStorage::AnalyzeJob (Job ID: bb66478e-c9ec-4a04-889b-d2c1aaa8b58c) from Async(default) enqueued at 2022-11-25T09:10:15Z with arguments: #<GlobalID:0x00007f60e895d738 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: vh2ltxtcyr0wypmy2mkdirbhby5y[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":150,\"height\":100,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c]   [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [bb66478e-c9ec-4a04-889b-d2c1aaa8b58c] Performed ActiveStorage::AnalyzeJob (Job ID: bb66478e-c9ec-4a04-889b-d2c1aaa8b58c) from Async(default) in 18.74ms
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFHV2FRR1ciLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7ccc1cdda2d0462f6266fd5bf734c66be2fb38ec/default_profile.jpg" for ::1 at 2022-11-25 16:10:15 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: vh2ltxtcyr0wypmy2mkdirbhby5y (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbWd5YkhSNGRHTjVjakIzZVhCdGVUSnRhMlJwY21Kb1luazFlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNS4xMDdaIiwicHVyIjoiYmxvYl9rZXkifX0=--53b610de57eee4df9322807e8b7cdd80ee528da5/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbWd5YkhSNGRHTjVjakIzZVhCdGVUSnRhMlJwY21Kb1luazFlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNS4xMDdaIiwicHVyIjoiYmxvYl9rZXkifX0=--53b610de57eee4df9322807e8b7cdd80ee528da5/default_profile.jpg
Completed 302 Found in 15ms (ActiveRecord: 0.7ms | Allocations: 4629)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbWd5YkhSNGRHTjVjakIzZVhCdGVUSnRhMlJwY21Kb1luazFlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNS4xMDdaIiwicHVyIjoiYmxvYl9rZXkifX0=--53b610de57eee4df9322807e8b7cdd80ee528da5/default_profile.jpg" for ::1 at 2022-11-25 16:10:15 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 205)


Started GET "/rooms" for ::1 at 2022-11-25 16:10:16 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:10:16.223538"], ["status", 2], ["id", 2]]
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 7znrahj2zm2c0ewjx0e8j2hisdt7[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("blob_id", "variation_digest") VALUES (?, ?)[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ak8a75nupk8fpsyevdfc5xorp6vu"], ["filename", "default_profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 1556], ["checksum", "4mt/XTfvsOHLGoGNzGQ1BQ=="], ["created_at", "2022-11-25 09:10:16.265645"]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "image"], ["record_type", "ActiveStorage::VariantRecord"], ["record_id", 4], ["blob_id", 6], ["created_at", "2022-11-25 09:10:16.266910"]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/user.rb:21:in `chat_avatar'
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: ak8a75nupk8fpsyevdfc5xorp6vu (checksum: 4mt/XTfvsOHLGoGNzGQ1BQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cea5603a-5372-48c6-b7e0-98fd202c41f9) to Async(default) with arguments: #<GlobalID:0x00007f60a4520c90 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/6>>
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 2]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 4.4ms | Allocations: 3281)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.6ms | Allocations: 524)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/index.html.erb within layouts/application (Duration: 50.0ms | Allocations: 18421)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 52.0ms | Allocations: 20837)
Completed 200 OK in 63ms (Views: 47.1ms | ActiveRecord: 10.4ms | Allocations: 25647)


[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9] Performing ActiveStorage::AnalyzeJob (Job ID: cea5603a-5372-48c6-b7e0-98fd202c41f9) from Async(default) enqueued at 2022-11-25T09:10:16Z with arguments: #<GlobalID:0x00007f60e88cd1b0 @uri=#<URI::GID gid://turbochat/ActiveStorage::Blob/6>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: ak8a75nupk8fpsyevdfc5xorp6vu[0m
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:10:16 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:10:16 +0700
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: ak8a75nupk8fpsyevdfc5xorp6vu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMDZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b08d3d73ce5ef2316b8fb51bbe29f0b66e4c2d70/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMDZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b08d3d73ce5ef2316b8fb51bbe29f0b66e4c2d70/default_profile.jpg
Completed 302 Found in 9ms (ActiveRecord: 0.4ms | Allocations: 5657)


[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"width\":50,\"height\":34,\"analyzed\":true}"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9]   [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cea5603a-5372-48c6-b7e0-98fd202c41f9] Performed ActiveStorage::AnalyzeJob (Job ID: cea5603a-5372-48c6-b7e0-98fd202c41f9) from Async(default) in 29.74ms
Started GET "/cable" for ::1 at 2022-11-25 16:10:16 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: ttt5e2n7lsfpnybz5n2ynyuz6abk (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMjZaIiwicHVyIjoiYmxvYl9rZXkifX0=--52e442177b881799c7c1c2c19947570295b32a8e/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMjZaIiwicHVyIjoiYmxvYl9rZXkifX0=--52e442177b881799c7c1c2c19947570295b32a8e/default_profile.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 4707)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMDZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b08d3d73ce5ef2316b8fb51bbe29f0b66e4c2d70/default_profile.jpg" for ::1 at 2022-11-25 16:10:16 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMjZaIiwicHVyIjoiYmxvYl9rZXkifX0=--52e442177b881799c7c1c2c19947570295b32a8e/default_profile.jpg" for ::1 at 2022-11-25 16:10:16 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 287)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 277)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Started GET "/rooms" for ::1 at 2022-11-25 16:10:19 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 4.8ms | Allocations: 2970)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 524)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 7073)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 9630)
Completed 200 OK in 28ms (Views: 18.2ms | ActiveRecord: 0.9ms | Allocations: 12918)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:19 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:10:19 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: ak8a75nupk8fpsyevdfc5xorp6vu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxOS4xODNaIiwicHVyIjoiYmxvYl9rZXkifX0=--35b4c5808686968c80a9bc89174e7501dfa897bd/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxOS4xODNaIiwicHVyIjoiYmxvYl9rZXkifX0=--35b4c5808686968c80a9bc89174e7501dfa897bd/default_profile.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 4631)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NS40MjVaIiwicHVyIjoiYmxvYl9rZXkifX0=--e779aff21a04701382561e9ff82c155147b8b0fb/default_profile.jpg" for ::1 at 2022-11-25 16:10:19 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxOS4xODNaIiwicHVyIjoiYmxvYl9rZXkifX0=--35b4c5808686968c80a9bc89174e7501dfa897bd/default_profile.jpg" for ::1 at 2022-11-25 16:10:19 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 205)


Started GET "/cable" for ::1 at 2022-11-25 16:10:19 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 1050)


Started GET "/cable" for ::1 at 2022-11-25 16:10:19 +0700
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
AppearanceChannel#online
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 92)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:10:24.231751"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:10:26.345572"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rooms" for ::1 at 2022-11-25 16:10:35 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 6.3ms | Allocations: 2984)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.1ms | Allocations: 581)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 17)
  Rendered rooms/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 7271)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 9752)
Completed 200 OK in 34ms (Views: 20.0ms | ActiveRecord: 1.2ms | Allocations: 13021)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:35 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:10:35.363450"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:35 +0700
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NS40MjVaIiwicHVyIjoiYmxvYl9rZXkifX0=--e779aff21a04701382561e9ff82c155147b8b0fb/default_profile.jpg" for ::1 at 2022-11-25 16:10:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 209)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxOS4xODNaIiwicHVyIjoiYmxvYl9rZXkifX0=--35b4c5808686968c80a9bc89174e7501dfa897bd/default_profile.jpg" for ::1 at 2022-11-25 16:10:35 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/cable" for ::1 at 2022-11-25 16:10:35 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:10:35.431206"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 66)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" for ::1 at 2022-11-25 16:10:35 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:10:40.439553"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:10:44.721196"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/user/2" for ::1 at 2022-11-25 16:10:47 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/room.rb:13:in `create_private_room'
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" WHERE "rooms"."name" = ? LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/models/room.rb:13:in `create_private_room'
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "is_private", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "private_1_2"], ["is_private", 1], ["created_at", "2022-11-25 09:10:47.426077"], ["updated_at", "2022-11-25 09:10:47.426077"]]
  ↳ app/models/room.rb:13:in `create_private_room'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/room.rb:13:in `create_private_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mParticipant Create (0.8ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["room_id", 1], ["created_at", "2022-11-25 09:10:47.449676"], ["updated_at", "2022-11-25 09:10:47.449676"]]
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mParticipant Create (2.8ms)[0m  [1m[32mINSERT INTO "participants" ("user_id", "room_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["created_at", "2022-11-25 09:10:47.468171"], ["updated_at", "2022-11-25 09:10:47.468171"]]
  ↳ app/models/room.rb:15:in `block in create_private_room'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/room.rb:15:in `block in create_private_room'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 71)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 12.0ms | Allocations: 5344)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.9ms | Allocations: 590)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 17)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.6ms | Allocations: 767)
  Rendered rooms/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 12320)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 14736)
Completed 200 OK in 148ms (Views: 40.4ms | ActiveRecord: 24.8ms | Allocations: 63782)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:47 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:47 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:10:47.599153"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNDo1NS40MjVaIiwicHVyIjoiYmxvYl9rZXkifX0=--e779aff21a04701382561e9ff82c155147b8b0fb/default_profile.jpg" for ::1 at 2022-11-25 16:10:47 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxOS4xODNaIiwicHVyIjoiYmxvYl9rZXkifX0=--35b4c5808686968c80a9bc89174e7501dfa897bd/default_profile.jpg" for ::1 at 2022-11-25 16:10:47 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 222)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 196)


Started GET "/cable" for ::1 at 2022-11-25 16:10:47 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:10:47.653876"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" for ::1 at 2022-11-25 16:10:47 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:10:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#away
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:10:52.664059"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:10:56.146075"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:11:01.151472"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:11:08.794687"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.9ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:11:19.367618"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:11:22.411629"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/rooms/1/messages" for ::1 at 2022-11-25 16:11:31 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"body"=>"alo"}, "commit"=>"Create Message", "room_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? ORDER BY "participants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/message.rb:10:in `confirm_participant'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["body", "alo"], ["created_at", "2022-11-25 09:11:31.643142"], ["updated_at", "2022-11-25 09:11:31.643142"]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered messages/_message.html.erb (Duration: 4.5ms | Allocations: 3108)
[ActionCable] Broadcasting to Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-1\">\n  <div class=\"message-box msg-1\">\n    <div class=\"d-flex align-items-center\">\n      <img class=\"chat_pfp\" src=\"http://localhost:3000/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2...
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 7.0ms | Allocations: 11596)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-1\">\n  <div class=\"message-box msg-1\">\n    <div class=\"d-flex align-items-center\">\n      <img class=\"chat_pfp\" src=\"http://localhost:3000/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2... (via streamed from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/user/1" for ::1 at 2022-11-25 16:11:38 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 2]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 1], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 9.7ms | Allocations: 4276)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.9ms | Allocations: 556)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 17)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 5.7ms | Allocations: 4386)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.6ms | Allocations: 504)
  Rendered rooms/index.html.erb within layouts/application (Duration: 35.4ms | Allocations: 14905)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 17308)
Completed 200 OK in 52ms (Views: 37.0ms | ActiveRecord: 2.5ms | Allocations: 19855)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:11:38 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMDZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b08d3d73ce5ef2316b8fb51bbe29f0b66e4c2d70/default_profile.jpg" for ::1 at 2022-11-25 16:11:38 +0700
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNToxNi4zMjZaIiwicHVyIjoiYmxvYl9rZXkifX0=--52e442177b881799c7c1c2c19947570295b32a8e/default_profile.jpg" for ::1 at 2022-11-25 16:11:38 +0700
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 218)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/cable" for ::1 at 2022-11-25 16:11:38 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:11:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/cable" for ::1 at 2022-11-25 16:11:38 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:11:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:11:38.935545"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:11:43.831676"], ["id", 2]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (3.0ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:11:46.029371"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:11:49.406204"], ["id", 2]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:11:53 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:11:53 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (1.6ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:11:53.082466"], ["id", 2]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:11:57.007963"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Update All (7.1ms)[0m  [1m[33mUPDATE "users" SET "status" = ?[0m  [["status", 0]]
  ↳ config/application.rb:15:in `block in <class:Application>'
Started GET "/cable" for ::1 at 2022-11-25 16:12:16 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:12:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Started GET "/cable" for ::1 at 2022-11-25 16:12:19 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:12:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:12:19.996107"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 1.2ms | Allocations: 626)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:12:25.007861"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:12:37.777667"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/" for ::1 at 2022-11-25 16:12:40 +0700
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 2.9ms | Allocations: 818)
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 168)
  Rendered layout layouts/application.html.erb (Duration: 40.4ms | Allocations: 46000)
Completed 200 OK in 47ms (Views: 42.4ms | ActiveRecord: 0.0ms | Allocations: 50200)


Started GET "/cable" for ::1 at 2022-11-25 16:12:41 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:12:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:12:41 +0700
Started GET "/users/sign_in" for ::1 at 2022-11-25 16:12:42 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 900)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 6755)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 9256)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 11534)


AppearanceChannel#away
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:12:43.927876"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started POST "/users/sign_in" for ::1 at 2022-11-25 16:12:49 +0700
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admintest@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "admintest@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 196ms (ActiveRecord: 0.1ms | Allocations: 5593)


Started GET "/" for ::1 at 2022-11-25 16:12:50 +0700
Processing by PagesController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/pages/home.html.erb:3
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  Rendered pages/home.html.erb within layouts/application (Duration: 38.5ms | Allocations: 52808)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 55313)
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>"
Completed 200 OK in 42ms (Views: 39.9ms | ActiveRecord: 1.0ms | Allocations: 56556)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFHV2FRR1ciLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7ccc1cdda2d0462f6266fd5bf734c66be2fb38ec/default_profile.jpg" for ::1 at 2022-11-25 16:12:50 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: vh2ltxtcyr0wypmy2mkdirbhby5y (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbWd5YkhSNGRHTjVjakIzZVhCdGVUSnRhMlJwY21Kb1luazFlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MC4xODlaIiwicHVyIjoiYmxvYl9rZXkifX0=--d94b7688a942fe03884a2e32a27a1d51258b8ae1/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbWd5YkhSNGRHTjVjakIzZVhCdGVUSnRhMlJwY21Kb1luazFlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MC4xODlaIiwicHVyIjoiYmxvYl9rZXkifX0=--d94b7688a942fe03884a2e32a27a1d51258b8ae1/default_profile.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 7014)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbWd5YkhSNGRHTjVjakIzZVhCdGVUSnRhMlJwY21Kb1luazFlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MC4xODlaIiwicHVyIjoiYmxvYl9rZXkifX0=--d94b7688a942fe03884a2e32a27a1d51258b8ae1/default_profile.jpg" for ::1 at 2022-11-25 16:12:50 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 339)


Started GET "/rooms" for ::1 at 2022-11-25 16:12:51 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:12:51.731241"], ["status", 2], ["id", 2]]
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 92)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_2\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_2\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 2]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 3.8ms | Allocations: 3268)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.0ms | Allocations: 869)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 25)
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 8736)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 11165)
Completed 200 OK in 37ms (Views: 14.1ms | ActiveRecord: 8.0ms | Allocations: 33753)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:12:51 +0700
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:12:51 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: ttt5e2n7lsfpnybz5n2ynyuz6abk (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MS43OTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--dd5d0b0410cc2a96f7777878190869a551c6d030/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MS43OTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--dd5d0b0410cc2a96f7777878190869a551c6d030/default_profile.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 4715)


Started GET "/cable" for ::1 at 2022-11-25 16:12:51 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: ak8a75nupk8fpsyevdfc5xorp6vu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MS44MDRaIiwicHVyIjoiYmxvYl9rZXkifX0=--f7c6baf553c07f1ad211d5fa238f5fe612457a73/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MS44MDRaIiwicHVyIjoiYmxvYl9rZXkifX0=--f7c6baf553c07f1ad211d5fa238f5fe612457a73/default_profile.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 4786)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MS43OTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--dd5d0b0410cc2a96f7777878190869a551c6d030/default_profile.jpg" for ::1 at 2022-11-25 16:12:51 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:12:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToxNzo1MS44MDRaIiwicHVyIjoiYmxvYl9rZXkifX0=--f7c6baf553c07f1ad211d5fa238f5fe612457a73/default_profile.jpg" for ::1 at 2022-11-25 16:12:51 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 220)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMg)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 205)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:12:53.724356"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:12:57 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:13:03.036501"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:13:37.711338"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.5ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:13:45.895581"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/ats_users/sign_in" for ::1 at 2022-11-25 16:15:37 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/ats_users/sign_in"):
  
Started GET "/" for ::1 at 2022-11-25 16:15:39 +0700
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 3.3ms | Allocations: 4656)
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 168)
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | Allocations: 49996)
Completed 200 OK in 43ms (Views: 40.3ms | ActiveRecord: 0.0ms | Allocations: 53995)


Started GET "/cable" for ::1 at 2022-11-25 16:15:40 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:40 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
An unauthorized connection attempt was rejected
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:40 +0700
Started GET "/users/sign_in" for ::1 at 2022-11-25 16:15:41 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 3.4ms | Allocations: 900)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 19.7ms | Allocations: 6583)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 9101)
Completed 200 OK in 82ms (Views: 30.8ms | ActiveRecord: 1.7ms | Allocations: 28462)


Started POST "/users/sign_in" for ::1 at 2022-11-25 16:15:47 +0700
Processing by Devise::SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"nqda98@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "nqda98@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 198ms (ActiveRecord: 0.2ms | Allocations: 6730)


Started GET "/" for ::1 at 2022-11-25 16:15:47 +0700
Processing by PagesController#home as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/pages/home.html.erb:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  Rendered pages/home.html.erb within layouts/application (Duration: 48.0ms | Allocations: 75533)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | Allocations: 78038)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/pages_controller.rb:8:in `set_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:15:47.481009"], ["status", 0], ["id", 1]]
  ↳ app/controllers/pages_controller.rb:8:in `set_status'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/pages_controller.rb:8:in `set_status'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 279)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 64ms (Views: 48.9ms | ActiveRecord: 6.4ms | Allocations: 86394)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFHV2FRR1ciLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7ccc1cdda2d0462f6266fd5bf734c66be2fb38ec/default_profile.jpg" for ::1 at 2022-11-25 16:15:47 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: biqbs24exxaftq7przu7y33v3xl6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0Ny41MzZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b8a5626a98b7b3df740d19959719cd02d76a7b44/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0Ny41MzZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b8a5626a98b7b3df740d19959719cd02d76a7b44/default_profile.jpg
Completed 302 Found in 10ms (ActiveRecord: 0.4ms | Allocations: 7014)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0Ny41MzZaIiwicHVyIjoiYmxvYl9rZXkifX0=--b8a5626a98b7b3df740d19959719cd02d76a7b44/default_profile.jpg" for ::1 at 2022-11-25 16:15:47 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 339)


Started GET "/rooms" for ::1 at 2022-11-25 16:15:48 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:15:48.599438"], ["status", 2], ["id", 1]]
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 91)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 4.2ms | Allocations: 3253)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.1ms | Allocations: 870)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 25)
  Rendered rooms/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 8714)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 11159)
Completed 200 OK in 33ms (Views: 13.5ms | ActiveRecord: 5.6ms | Allocations: 33226)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:15:48 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (4.2ms) [0m[34mGenerated URL for file at key: ttt5e2n7lsfpnybz5n2ynyuz6abk (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg
Completed 302 Found in 19ms (ActiveRecord: 0.3ms | Allocations: 5098)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:15:48 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: ak8a75nupk8fpsyevdfc5xorp6vu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg
Completed 302 Found in 22ms (ActiveRecord: 0.3ms | Allocations: 4701)


Started GET "/cable" for ::1 at 2022-11-25 16:15:48 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:15:48 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:15:48 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 283)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 688)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Started GET "/rooms" for ::1 at 2022-11-25 16:15:51 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 10.8ms | Allocations: 2988)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.4ms | Allocations: 524)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  Rendered rooms/index.html.erb within layouts/application (Duration: 26.9ms | Allocations: 7019)
  Rendered layouts/_navbar.html.erb (Duration: 0.1ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | Allocations: 9506)
Completed 200 OK in 52ms (Views: 33.5ms | ActiveRecord: 1.7ms | Allocations: 12897)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:51 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:15:51 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:15:51 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 208)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 609)


Started GET "/cable" for ::1 at 2022-11-25 16:15:51 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-11-25 16:15:51 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel#online
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 92)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Started GET "/user/2" for ::1 at 2022-11-25 16:15:54 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 9.4ms | Allocations: 8734)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 591)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 19)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 4.7ms | Allocations: 4978)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.9ms | Allocations: 726)
  Rendered rooms/index.html.erb within layouts/application (Duration: 24.2ms | Allocations: 21390)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 23822)
Completed 200 OK in 58ms (Views: 26.5ms | ActiveRecord: 2.7ms | Allocations: 45149)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:54 +0700
AppearanceChannel stopped streaming from appearance_channel
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:54 +0700
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:15:54.297626"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:15:54 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 229)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:15:54 +0700
Started GET "/cable" for ::1 at 2022-11-25 16:15:54 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 226)


AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:15:54.341539"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Started GET "/cable" for ::1 at 2022-11-25 16:15:54 +0700
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:15:54 +0700
AppearanceChannel#online
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.7ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mUser Update All (6.3ms)[0m  [1m[33mUPDATE "users" SET "status" = ?[0m  [["status", 0]]
  ↳ config/application.rb:15:in `block in <class:Application>'
Started GET "/user/2" for ::1 at 2022-11-25 16:16:05 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 264)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 10.0ms | Allocations: 8970)
  Rendered layouts/_new_room_form.html.erb (Duration: 2.5ms | Allocations: 2810)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 27)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 6.4ms | Allocations: 5189)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.6ms | Allocations: 1475)
  Rendered rooms/index.html.erb within layouts/application (Duration: 71.6ms | Allocations: 93715)
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 167)
  Rendered layout layouts/application.html.erb (Duration: 107.7ms | Allocations: 138961)
Completed 200 OK in 153ms (Views: 109.6ms | ActiveRecord: 3.4ms | Allocations: 203685)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:16:05 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:16:05 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 1169)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 198)


Started GET "/cable" for ::1 at 2022-11-25 16:16:05 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
Started GET "/cable" for ::1 at 2022-11-25 16:16:05 +0700
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:16:05.324945"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 109)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Started GET "/user/2" for ::1 at 2022-11-25 16:16:06 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 7.0ms | Allocations: 4278)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 577)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 17)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 4.5ms | Allocations: 3275)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.8ms | Allocations: 503)
  Rendered rooms/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 13848)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 16255)
Completed 200 OK in 27ms (Views: 22.6ms | ActiveRecord: 1.2ms | Allocations: 18918)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:06 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:16:06.842753"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:06 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:16:06 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:16:06 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 224)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 196)


Started GET "/cable" for ::1 at 2022-11-25 16:16:06 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:16:06.884409"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
Started GET "/cable" for ::1 at 2022-11-25 16:16:06 +0700
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is streaming from users
Started GET "/user/2" for ::1 at 2022-11-25 16:16:07 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 5.2ms | Allocations: 4255)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.6ms | Allocations: 523)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 4.6ms | Allocations: 3245)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.6ms | Allocations: 496)
  Rendered rooms/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 13640)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 15936)
Completed 200 OK in 24ms (Views: 19.4ms | ActiveRecord: 1.0ms | Allocations: 18501)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:07 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:07 +0700
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:16:07.881231"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:16:07 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 196)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:16:07 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/cable" for ::1 at 2022-11-25 16:16:07 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:07 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:16:07.915827"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" for ::1 at 2022-11-25 16:16:07 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:07 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Started GET "/user/2" for ::1 at 2022-11-25 16:16:08 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 8.7ms | Allocations: 4255)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 523)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 4.5ms | Allocations: 3245)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.6ms | Allocations: 496)
  Rendered rooms/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 13640)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 15952)
Completed 200 OK in 42ms (Views: 29.0ms | ActiveRecord: 2.1ms | Allocations: 18520)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:16:08.487058"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:16:08 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:16:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/cable" for ::1 at 2022-11-25 16:16:08 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 1234)


AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:16:08.518119"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" for ::1 at 2022-11-25 16:16:08 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Started GET "/user/2" for ::1 at 2022-11-25 16:16:08 +0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.4ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 67)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 56)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 8.8ms | Allocations: 4254)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.8ms | Allocations: 523)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 5.8ms | Allocations: 3245)
  Rendered layouts/_new_message_form.html.erb (Duration: 0.6ms | Allocations: 496)
  Rendered rooms/index.html.erb within layouts/application (Duration: 29.6ms | Allocations: 13820)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 16131)
Completed 200 OK in 45ms (Views: 30.4ms | ActiveRecord: 3.1ms | Allocations: 18751)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:16:08.960256"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42NTZaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d159eb510b708dd063278bedfbc0101c894f7c/default_profile.jpg" for ::1 at 2022-11-25 16:16:08 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOToyMDo0OC42OTRaIiwicHVyIjoiYmxvYl9rZXkifX0=--4ee7417236cab689d80d1493b726c59eb730df0e/default_profile.jpg" for ::1 at 2022-11-25 16:16:08 +0700
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 194)


Started GET "/cable" for ::1 at 2022-11-25 16:16:08 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 202)


Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
Started GET "/cable" for ::1 at 2022-11-25 16:16:09 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:16:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:16:09.009024"], ["status", 2], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:16:14.016000"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:19:06.112443"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.4ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:19:11.167956"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:19:25 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:19:25 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (2.0ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:19:25.533068"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 59)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/" for ::1 at 2022-11-25 16:26:43 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/pages/home.html.erb:3
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  ↳ app/models/user.rb:17:in `avatar_thumbnail'
  Rendered pages/home.html.erb within layouts/application (Duration: 63.5ms | Allocations: 95719)
  Rendered layouts/_navbar.html.erb (Duration: 0.8ms | Allocations: 174)
  Rendered layout layouts/application.html.erb (Duration: 101.0ms | Allocations: 141035)
  Rendered users/_status.html.erb (Duration: 0.6ms | Allocations: 277)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Completed 200 OK in 113ms (Views: 100.7ms | ActiveRecord: 2.0ms | Allocations: 152769)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFHV2FRR1ciLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--7ccc1cdda2d0462f6266fd5bf734c66be2fb38ec/default_profile.jpg" for ::1 at 2022-11-25 16:26:44 +0700
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "W3rQbiDVl3RX0dJoKIDlgkZ9b4A="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (24.0ms) [0m[34mGenerated URL for file at key: biqbs24exxaftq7przu7y33v3xl6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NC4wNzhaIiwicHVyIjoiYmxvYl9rZXkifX0=--cecf1d87639e1876d5346065c9419f61f6bbceef/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NC4wNzhaIiwicHVyIjoiYmxvYl9rZXkifX0=--cecf1d87639e1876d5346065c9419f61f6bbceef/default_profile.jpg
Completed 302 Found in 31ms (ActiveRecord: 0.3ms | Allocations: 8628)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbWx4WW5NeU5HVjRlR0ZtZEhFM2NISjZkVGQ1TXpOMk0zaHNOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NC4wNzhaIiwicHVyIjoiYmxvYl9rZXkifX0=--cecf1d87639e1876d5346065c9419f61f6bbceef/default_profile.jpg" for ::1 at 2022-11-25 16:26:44 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 366)


Started GET "/cable" for ::1 at 2022-11-25 16:26:44 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:26:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#offline
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 92)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#offline
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/rooms" for ::1 at 2022-11-25 16:26:45 +0700
Processing by RoomsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:26:45.252770"], ["status", 2], ["id", 1]]
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/rooms_controller.rb:32:in `set_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 92)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 59)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 4.2ms | Allocations: 3273)
  Rendered layouts/_new_room_form.html.erb (Duration: 1.5ms | Allocations: 1201)
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 27)
  Rendered rooms/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 9217)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 11678)
Completed 200 OK in 40ms (Views: 13.9ms | ActiveRecord: 7.2ms | Allocations: 38938)


AppearanceChannel#online
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 2], ["updated_at", "2022-11-25 09:26:45.295100"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:26:45 +0700
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3e9031cb3c97ab4ef5ec1ead9f68255811391e88", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: ak8a75nupk8fpsyevdfc5xorp6vu (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--cce00df9b2be1279fd38999d84f58a6af0d382e3/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--cce00df9b2be1279fd38999d84f58a6af0d382e3/default_profile.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 4860)


Started GET "/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVRkcE53PT0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--4c8a53c7d241ae9c193f0d5e3465e7d1964c0a67/default_profile.jpg" for ::1 at 2022-11-25 16:26:45 +0700
Started GET "/cable" for ::1 at 2022-11-25 16:26:45 +0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--cce00df9b2be1279fd38999d84f58a6af0d382e3/default_profile.jpg" for ::1 at 2022-11-25 16:26:45 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 0ms (ActiveRecord: 0.0ms | Allocations: 220)


Processing by ActiveStorage::Representations::RedirectController#show as JPEG
  Parameters: {"signed_blob_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--b3769a53c8337d04f7df63a65eb00bed95061edf", "variation_key"=>"[FILTERED]", "filename"=>"default_profile"}
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:26:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActiveStorage::VariantRecord"], ["name", "image"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: ttt5e2n7lsfpnybz5n2ynyuz6abk (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--96690bc8b125103304ff382139670e749d8d9eaf/default_profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--96690bc8b125103304ff382139670e749d8d9eaf/default_profile.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.2ms | Allocations: 5402)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--96690bc8b125103304ff382139670e749d8d9eaf/default_profile.jpg" for ::1 at 2022-11-25 16:26:45 +0700
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 253)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/user/2" for ::1 at 2022-11-25 16:26:46 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:3:in `show'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:4:in `show'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."name" = ? ORDER BY "rooms"."id" ASC LIMIT ?[0m  [["name", "private_1_2"], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:9:in `show'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 71)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" != ?[0m  [["id", 1]]
  ↳ app/views/rooms/index.html.erb:21
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."room_id" = ? AND "participants"."user_id" = ? LIMIT ?[0m  [["room_id", 1], ["user_id", 2], ["LIMIT", 1]]
  ↳ app/models/room.rb:21:in `participant?'
  [1m[36mParticipant Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? LIMIT ?[0m  [["user_id", 2], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/room.rb:22:in `participant?'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 4], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 61)
  Rendered collection of users/_user.html.erb [1 times] (Duration: 9.2ms | Allocations: 8735)
  Rendered layouts/_new_room_form.html.erb (Duration: 0.6ms | Allocations: 590)
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."is_private" = ?[0m  [["is_private", 0]]
  ↳ app/views/rooms/index.html.erb:27
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 19)
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = ? ORDER BY "messages"."created_at" ASC[0m  [["room_id", 1]]
  ↳ app/views/rooms/index.html.erb:37
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/messages/_message.html.erb:1
  [1m[36mCACHE ActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mCACHE ActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered collection of messages/_message.html.erb [1 times] (Duration: 4.7ms | Allocations: 4978)
  Rendered layouts/_new_message_form.html.erb (Duration: 1.7ms | Allocations: 1469)
  Rendered rooms/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 22147)
  Rendered layouts/_navbar.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 24604)
Completed 200 OK in 61ms (Views: 25.8ms | ActiveRecord: 1.7ms | Allocations: 45990)


Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:26:47 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from users
Turbo::StreamsChannel stopped streaming from rooms
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZV3M0WVRjMWJuVndhemhtY0hONVpYWmtabU0xZUc5eWNEWjJkUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--cce00df9b2be1279fd38999d84f58a6af0d382e3/default_profile.jpg" for ::1 at 2022-11-25 16:26:47 +0700
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 230)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFIwTldVeWJqZHNjMlp3Ym5saWVqVnVNbmx1ZVhWNk5tRmlhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpVVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1SbFptRjFiSFJmY0hKdlptbHNaUzVxY0djaU95Qm1hV3hsYm1GdFpTbzlWVlJHTFRnbkoyUmxabUYxYkhSZmNISnZabWxzWlM1cWNHY0dPd1pVT2hGamIyNTBaVzUwWDNSNWNHVkpJZzlwYldGblpTOXFjR1ZuQmpzR1ZEb1JjMlZ5ZG1salpWOXVZVzFsT2dwc2IyTmhiQT09IiwiZXhwIjoiMjAyMi0xMS0yNVQwOTozMTo0NS4zMjlaIiwicHVyIjoiYmxvYl9rZXkifX0=--96690bc8b125103304ff382139670e749d8d9eaf/default_profile.jpg" for ::1 at 2022-11-25 16:26:47 +0700
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 16:26:47 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 09:26:47.097296"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"default_profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 264)


Started GET "/cable" for ::1 at 2022-11-25 16:26:47 +0700
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:26:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
AppearanceChannel is transmitting the subscription confirmation
AppearanceChannel is streaming from appearance_channel
AppearanceChannel#online
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (1.2ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "status" = ? WHERE "users"."id" = ?[0m  [["updated_at", "2022-11-25 09:26:47.129273"], ["status", 2], ["id", 1]]
Started GET "/cable" for ::1 at 2022-11-25 16:26:47 +0700
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:44:in `add_default_avatar'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 65)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started GET "/cable" [WebSocket] for ::1 at 2022-11-25 16:26:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:12:in `find_verified_user'
Registered connection (Z2lkOi8vdHVyYm9jaGF0L1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from user_status
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from rooms
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from users
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-11-25 16:26:49 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"body"=>"alo"}, "commit"=>"Create Message", "room_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mParticipant Load (0.2ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? ORDER BY "participants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/message.rb:10:in `confirm_participant'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["body", "alo"], ["created_at", "2022-11-25 09:26:49.226370"], ["updated_at", "2022-11-25 09:26:49.226370"]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered messages/_message.html.erb (Duration: 4.1ms | Allocations: 3060)
[ActionCable] Broadcasting to Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-1\">\n  <div class=\"message-box msg-1\">\n    <div class=\"d-flex align-items-center\">\n      <img class=\"chat_pfp\" src=\"http://localhost:3000/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2...
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 7.4ms | Allocations: 12346)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-1\">\n  <div class=\"message-box msg-1\">\n    <div class=\"d-flex align-items-center\">\n      <img class=\"chat_pfp\" src=\"http://localhost:3000/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2... (via streamed from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 60)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
AppearanceChannel#online
  Rendered users/_status.html.erb (Duration: 0.3ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>"
Started POST "/rooms/1/messages" for ::1 at 2022-11-25 16:26:50 +0700
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"body"=>"alo"}, "commit"=>"Create Message", "room_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-success\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mRoom Load (0.2ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mParticipant Load (0.1ms)[0m  [1m[34mSELECT "participants".* FROM "participants" WHERE "participants"."user_id" = ? AND "participants"."room_id" = ? ORDER BY "participants"."id" ASC LIMIT ?[0m  [["user_id", 1], ["room_id", 1], ["LIMIT", 1]]
  ↳ app/models/message.rb:10:in `confirm_participant'
  [1m[36mMessage Create (1.7ms)[0m  [1m[32mINSERT INTO "messages" ("user_id", "room_id", "body", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["room_id", 1], ["body", "alo"], ["created_at", "2022-11-25 09:26:50.913460"], ["updated_at", "2022-11-25 09:26:50.913460"]]
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/messages_controller.rb:3:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "User"], ["name", "avatar"], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  [1m[36mActiveStorage::VariantRecord Load (0.1ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = ? AND "active_storage_variant_records"."variation_digest" = ? LIMIT ?[0m  [["blob_id", 1], ["variation_digest", "2LUGSpqeAxE2FTbZR5KExFsl26Y="], ["LIMIT", 1]]
  ↳ app/models/user.rb:21:in `chat_avatar'
  Rendered messages/_message.html.erb (Duration: 7.9ms | Allocations: 2695)
[ActionCable] Broadcasting to Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ: "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-1\">\n  <div class=\"message-box msg-1\">\n    <div class=\"d-flex align-items-center\">\n      <img class=\"chat_pfp\" src=\"http://localhost:3000/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2...
No template found for MessagesController#create, rendering head :no_content
Completed 204 No Content in 39ms (ActiveRecord: 8.6ms | Allocations: 8310)


Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"messages\"><template><div class=\"cont-1\">\n  <div class=\"message-box msg-1\">\n    <div class=\"d-flex align-items-center\">\n      <img class=\"chat_pfp\" src=\"http://localhost:3000/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2... (via streamed from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ)
AppearanceChannel#away
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 1], ["updated_at", "2022-11-25 09:26:55.896027"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.1ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>"
Turbo::StreamsChannel transmitting "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-warning\" id=\"user_1\"></div>\n</template></turbo-stream>" (via streamed from user_status)
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 17:28:03 +0700
Turbo::StreamsChannel stopped streaming from user_status
Turbo::StreamsChannel stopped streaming from Z2lkOi8vdHVyYm9jaGF0L1Jvb20vMQ
Turbo::StreamsChannel stopped streaming from rooms
Turbo::StreamsChannel stopped streaming from users
Finished "/cable" [WebSocket] for ::1 at 2022-11-25 17:28:03 +0700
AppearanceChannel stopped streaming from appearance_channel
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "status" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["status", 0], ["updated_at", "2022-11-25 10:28:03.251156"], ["id", 1]]
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/channels/appearance_channel.rb:34:in `broadcast_new_status'
  Rendered users/_status.html.erb (Duration: 0.2ms | Allocations: 58)
[ActionCable] Broadcasting to user_status: "<turbo-stream action=\"replace\" target=\"user_1\"><template><turbo-frame id=\"user_status\"></turbo-frame>\n<div class=\"status-circle bg-dark\" id=\"user_1\"></div>\n</template></turbo-stream>"
